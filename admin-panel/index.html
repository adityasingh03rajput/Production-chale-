<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>College Admin Panel</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <div class="logo-icon">üéì</div>
                <h1>Admin Panel</h1>
            </div>

            <nav class="nav-menu">
                <button class="nav-item active" data-section="dashboard">
                    <span class="icon">üìä</span>
                    <span>Dashboard</span>
                </button>
                <button class="nav-item" data-section="students">
                    <span class="icon">üë®‚Äçüéì</span>
                    <span>Students</span>
                </button>
                <button class="nav-item" data-section="teachers">
                    <span class="icon">üë®‚Äçüè´</span>
                    <span>Teachers</span>
                </button>
                <button class="nav-item" data-section="timetable">
                    <span class="icon">üìÖ</span>
                    <span>Timetable</span>
                </button>
                <button class="nav-item" data-section="subjects">
                    <span class="icon">üìö</span>
                    <span>Subjects</span>
                </button>
                <button class="nav-item" data-section="classrooms">
                    <span class="icon">üè´</span>
                    <span>Classrooms</span>
                </button>
                <button class="nav-item" data-section="calendar">
                    <span class="icon">üìÜ</span>
                    <span>Calendar</span>
                </button>
                <button class="nav-item" data-section="attendance">
                    <span class="icon">üìä</span>
                    <span>Attendance History</span>
                </button>
                <button class="nav-item" data-section="periods">
                    <span class="icon">‚è∞</span>
                    <span>Period Settings</span>
                </button>
                <button class="nav-item" data-section="settings">
                    <span class="icon">‚öôÔ∏è</span>
                    <span>Settings</span>
                </button>
                <button class="nav-item" data-section="coming-soon"
                    style="border-top: 1px solid var(--border); margin-top: 10px; padding-top: 10px;">
                    <span class="icon">üöÄ</span>
                    <span>Coming Soon</span>
                    <span
                        style="background: var(--primary); color: #000; font-size: 10px; padding: 2px 6px; border-radius: 10px; margin-left: auto;">NEW</span>
                </button>
            </nav>

            <div class="sidebar-footer">
                <div class="server-status">
                    <div class="status-indicator" id="serverStatus"></div>
                    <span id="serverStatusText">Connecting...</span>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="top-bar">
                <div class="search-bar">
                    <input type="text" placeholder="Search..." id="globalSearch">
                </div>
                <div class="user-info">
                    <span class="user-name">Admin User</span>
                    <div class="user-avatar">A</div>
                </div>
            </header>

            <div class="content-area">
                <!-- Dashboard Section -->
                <section id="dashboard-section" class="section active">
                    <h2 class="section-title">Dashboard Overview</h2>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">üë®‚Äçüéì</div>
                            <div class="stat-info">
                                <h3 id="totalStudents">0</h3>
                                <p>Total Students</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üë®‚Äçüè´</div>
                            <div class="stat-info">
                                <h3 id="totalTeachers">0</h3>
                                <p>Total Teachers</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üìÖ</div>
                            <div class="stat-info">
                                <h3 id="totalTimetables">0</h3>
                                <p>Timetables</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üìä</div>
                            <div class="stat-info">
                                <h3 id="totalAttendance">0</h3>
                                <p>Attendance Records</p>
                            </div>
                        </div>
                    </div>

                    <!-- Course Distribution -->
                    <div class="dashboard-section">
                        <h3>Students by Course</h3>
                        <div class="course-stats" id="courseStats">
                            <div class="course-stat">
                                <div class="course-name">DS</div>
                                <div class="course-count" id="dsCount">0</div>
                            </div>
                            <div class="course-stat">
                                <div class="course-name">CSE</div>
                                <div class="course-count" id="cseCount">0</div>
                            </div>
                            <div class="course-stat">
                                <div class="course-name">ECE</div>
                                <div class="course-count" id="eceCount">0</div>
                            </div>
                            <div class="course-stat">
                                <div class="course-name">ME</div>
                                <div class="course-count" id="meCount">0</div>
                            </div>
                            <div class="course-stat">
                                <div class="course-name">Civil</div>
                                <div class="course-count" id="civilCount">0</div>
                            </div>
                        </div>
                    </div>

                    <!-- Semester Distribution -->
                    <div class="dashboard-section">
                        <h3>Students by Semester</h3>
                        <div class="semester-stats" id="semesterStats">
                            <div class="semester-stat">
                                <div class="semester-name">Semester 1</div>
                                <div class="semester-count" id="sem1Count">0</div>
                            </div>
                            <div class="semester-stat">
                                <div class="semester-name">Semester 3</div>
                                <div class="semester-count" id="sem3Count">0</div>
                            </div>
                            <div class="semester-stat">
                                <div class="semester-name">Semester 5</div>
                                <div class="semester-count" id="sem5Count">0</div>
                            </div>
                        </div>
                    </div>

                    <!-- Attendance Overview -->
                    <div class="dashboard-section">
                        <h3>Attendance Overview</h3>
                        <div class="attendance-overview" id="attendanceOverview">
                            <div class="attendance-stat">
                                <div class="attendance-label">Overall Rate</div>
                                <div class="attendance-value" id="overallRate">0%</div>
                            </div>
                            <div class="attendance-stat">
                                <div class="attendance-label">Present Today</div>
                                <div class="attendance-value" id="presentToday">0</div>
                            </div>
                            <div class="attendance-stat">
                                <div class="attendance-label">Total Days</div>
                                <div class="attendance-value" id="totalDays">0</div>
                            </div>
                        </div>
                    </div>

                    <div class="recent-activity">
                        <h3>Recent Activity</h3>
                        <div id="activityList" class="activity-list">
                            <!-- Activity items will be added here -->
                        </div>
                    </div>
                </section>

                <!-- Students Section -->
                <section id="students-section" class="section">
                    <div class="section-header">
                        <h2 class="section-title">Student Management</h2>
                        <div class="action-buttons">
                            <button class="btn btn-secondary" id="bulkStudentBtn">üì§ Bulk Import</button>
                            <button class="btn btn-primary" id="addStudentBtn">‚ûï Add Student</button>
                        </div>
                    </div>

                    <div class="filters">
                        <select id="semesterFilter" class="filter-select">
                            <option value="">All Semesters</option>
                            <option value="1">Semester 1</option>
                            <option value="2">Semester 2</option>
                            <option value="3">Semester 3</option>
                            <option value="4">Semester 4</option>
                            <option value="5">Semester 5</option>
                            <option value="6">Semester 6</option>
                            <option value="7">Semester 7</option>
                            <option value="8">Semester 8</option>
                        </select>
                        <select id="courseFilter" class="filter-select">
                            <option value="">All Courses</option>
                            <option value="B.Tech Data Science">Data Science</option>
                            <option value="CSE">Computer Science</option>
                            <option value="ECE">Electronics</option>
                            <option value="ME">Mechanical</option>
                            <option value="CE">Civil</option>
                        </select>
                        <input type="text" id="studentSearch" class="search-input" placeholder="Search students...">
                    </div>

                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Enrollment No</th>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Course</th>
                                    <th>Semester</th>
                                    <th>DOB</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="studentsTableBody">
                                <!-- Student rows will be added here -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Teachers Section -->
                <section id="teachers-section" class="section">
                    <div class="section-header">
                        <h2 class="section-title">Teacher Management</h2>
                        <div class="action-buttons">
                            <button class="btn btn-secondary" id="bulkTeacherBtn">üì§ Bulk Import</button>
                            <button class="btn btn-primary" id="addTeacherBtn">‚ûï Add Teacher</button>
                        </div>
                    </div>

                    <div class="filters">
                        <select id="departmentFilter" class="filter-select">
                            <option value="">All Departments</option>
                            <!-- Departments loaded dynamically from /api/departments -->
                        </select>
                        <input type="text" id="teacherSearch" class="search-input" placeholder="Search teachers...">
                    </div>

                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Employee ID</th>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Department</th>
                                    <th>Subject</th>
                                    <th>DOB</th>
                                    <th>Timetable Access</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="teachersTableBody">
                                <!-- Teacher rows will be added here -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Timetable Section -->
                <section id="timetable-section" class="section">
                    <div class="section-header">
                        <h2 class="section-title">Timetable Management</h2>
                        <div class="action-buttons">
                            <button class="btn btn-primary" id="createTimetableBtn">‚ûï Create Timetable</button>
                        </div>
                    </div>

                    <div class="filters">
                        <select id="timetableSemester" class="filter-select">
                            <option value="">Select Semester</option>
                            <option value="1">Semester 1</option>
                            <option value="2">Semester 2</option>
                            <option value="3">Semester 3</option>
                            <option value="4">Semester 4</option>
                            <option value="5">Semester 5</option>
                            <option value="6">Semester 6</option>
                            <option value="7">Semester 7</option>
                            <option value="8">Semester 8</option>
                        </select>
                        <select id="timetableCourse" class="filter-select">
                            <option value="">Select Course</option>
                            <option value="B.Tech Data Science">Data Science</option>
                            <option value="CSE">Computer Science</option>
                            <option value="ECE">Electronics</option>
                            <option value="ME">Mechanical</option>
                            <option value="CE">Civil</option>
                        </select>
                    </div>

                    <div id="timetableEditor" class="timetable-editor">
                        <!-- Timetable grid will be rendered here -->
                    </div>
                </section>

                <!-- Subjects Section -->
                <section id="subjects-section" class="section">
                    <div class="section-header">
                        <h2 class="section-title">Subject Management</h2>
                        <div class="action-buttons">
                            <button class="btn btn-success" id="importSubjectsBtn">üì• Import CSV</button>
                            <button class="btn btn-secondary" id="exportSubjectsBtn">üì§ Export CSV</button>
                            <button class="btn btn-warning" id="bulkEditSubjectsBtn">‚úèÔ∏è Bulk Edit</button>
                            <button class="btn btn-danger" id="bulkDeleteSubjectsBtn">üóëÔ∏è Bulk Delete</button>
                            <button class="btn btn-primary" id="addSubjectBtn">‚ûï Add Subject</button>
                        </div>
                    </div>

                    <!-- Search Bar -->
                    <div class="search-container" style="margin-bottom: 20px;">
                        <input type="text" id="subjectSearchInput" class="form-input"
                            placeholder="üîç Search by subject code, name, or short name..." style="max-width: 500px;">
                    </div>

                    <!-- Filters -->
                    <div class="filters">
                        <select id="subjectSemesterFilter" class="filter-select">
                            <option value="">All Semesters</option>
                            <option value="1">Semester 1</option>
                            <option value="2">Semester 2</option>
                            <option value="3">Semester 3</option>
                            <option value="4">Semester 4</option>
                            <option value="5">Semester 5</option>
                            <option value="6">Semester 6</option>
                            <option value="7">Semester 7</option>
                            <option value="8">Semester 8</option>
                        </select>
                        <select id="subjectBranchFilter" class="filter-select">
                            <option value="">All Branches</option>
                            <option value="B.Tech Computer Science">Computer Science (CS)</option>
                            <option value="B.Tech Data Science">Data Science (DS)</option>
                            <option value="B.Tech Information Technology">Information Technology (IT)</option>
                            <option value="B.Tech Artificial Intelligence">Artificial Intelligence (AI)</option>
                            <option value="B.Tech Electronics">Electronics (EC)</option>
                            <option value="B.Tech Mechanical">Mechanical (ME)</option>
                            <option value="B.Tech Civil">Civil (CE)</option>
                        </select>
                        <select id="subjectTypeFilter" class="filter-select">
                            <option value="">All Types</option>
                            <option value="Theory">Theory</option>
                            <option value="Lab">Lab</option>
                            <option value="Practical">Practical</option>
                            <option value="Training">Training</option>
                        </select>
                        <select id="subjectStatusFilter" class="filter-select">
                            <option value="">All Status</option>
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                        </select>
                    </div>

                    <!-- Bulk Actions Bar (hidden by default) -->
                    <div id="subjectBulkActionsBar"
                        style="display: none; background: var(--bg-card); padding: 15px; margin-bottom: 15px; border-radius: 8px; border: 2px solid var(--primary);">
                        <div style="display: flex; align-items: center; justify-content: space-between;">
                            <span id="subjectSelectedCount" style="color: var(--text-primary); font-weight: bold;">0
                                subjects selected</span>
                            <div>
                                <button class="btn btn-sm btn-warning" onclick="bulkActivateSubjects()">‚úì
                                    Activate</button>
                                <button class="btn btn-sm btn-secondary" onclick="bulkDeactivateSubjects()">‚úó
                                    Deactivate</button>
                                <button class="btn btn-sm btn-info" onclick="bulkDuplicateSubjects()">üìã
                                    Duplicate</button>
                                <button class="btn btn-sm btn-danger" onclick="bulkDeleteSelectedSubjects()">üóëÔ∏è
                                    Delete</button>
                                <button class="btn btn-sm btn-secondary"
                                    onclick="clearSubjectSelection()">Cancel</button>
                            </div>
                        </div>
                    </div>

                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th style="width: 40px;">
                                        <input type="checkbox" id="selectAllSubjects"
                                            onchange="toggleAllSubjects(this.checked)">
                                    </th>
                                    <th>Subject Code</th>
                                    <th>Subject Name</th>
                                    <th>Short Name</th>
                                    <th>Semester</th>
                                    <th>Branch</th>
                                    <th>Credits</th>
                                    <th>Type</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="subjectsTableBody">
                                <tr></tr>
                                <td colspan="9" class="text-center">Loading subjects...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Calendar Section -->
                <section id="calendar-section" class="section">
                    <div class="section-header">
                        <h2 class="section-title">Academic Calendar</h2>
                        <div class="action-buttons">
                            <button class="btn btn-secondary" id="exportCalendarBtn">üì§ Export</button>
                            <button class="btn btn-primary" id="addHolidayBtn">‚ûï Add Holiday</button>
                        </div>
                    </div>

                    <div class="calendar-tools">
                        <button class="tool-btn" onclick="showAcademicYearSettings()">üìÖ Academic Year</button>
                        <button class="tool-btn" onclick="showSemesterDates()">üìÜ Semester Dates</button>
                        <button class="tool-btn" onclick="showExamSchedule()">üìù Exam Schedule</button>
                        <button class="tool-btn" onclick="showEventManager()">üéâ Events</button>
                        <button class="tool-btn" onclick="bulkImportHolidays()">üì• Import Holidays</button>
                    </div>

                    <div class="calendar-container">
                        <div class="calendar-header">
                            <button class="calendar-nav-btn" onclick="previousMonth()">‚óÄ</button>
                            <h3 id="calendarMonthYear">January 2025</h3>
                            <button class="calendar-nav-btn" onclick="nextMonth()">‚ñ∂</button>
                        </div>
                        <div id="adminCalendar" class="admin-calendar">
                            <!-- Calendar grid will be rendered here -->
                        </div>
                    </div>

                    <div class="holidays-list">
                        <h3>Holidays & Events</h3>
                        <div id="holidaysList">
                            <!-- Holidays list will be rendered here -->
                        </div>
                    </div>
                </section>

                <!-- Classrooms Section -->
                <section id="classrooms-section" class="section">
                    <div class="section-header">
                        <h2 class="section-title">Classroom Management</h2>
                        <div class="action-buttons">
                            <button class="btn btn-secondary" id="bulkClassroomBtn">üì• Bulk Import</button>
                            <button class="btn btn-primary" id="addClassroomBtn">‚ûï Add Classroom</button>
                        </div>
                    </div>

                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Room Number</th>
                                    <th>Building</th>
                                    <th>Capacity</th>
                                    <th>WiFi BSSID</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="classroomsTableBody">
                                <!-- Classroom rows will be added here -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Attendance History Section -->
                <section id="attendance-section" class="section">
                    <div class="section-header">
                        <h2 class="section-title">üìä Attendance History</h2>
                        <div class="action-buttons">
                            <button class="btn btn-success" id="addAttendanceBtn">‚ûï Add Attendance</button>
                            <button class="btn btn-warning" id="bulkEditAttendanceBtn">‚úèÔ∏è Bulk Edit</button>
                            <button class="btn btn-info" id="manageAttendanceBtn">‚öôÔ∏è Manage</button>
                            <button class="btn btn-secondary" id="exportAttendanceBtn">üì§ Export Report</button>
                            <button class="btn btn-primary" id="refreshAttendanceBtn">üîÑ Refresh</button>
                        </div>
                    </div>

                    <div class="primary-filters">
                        <div class="filter-group-required">
                            <label class="filter-label">
                                <span class="required-star">*</span> Select Branch:
                            </label>
                            <select id="attendanceCourseFilter" class="filter-select filter-required">
                                <option value="">-- Select Branch --</option>
                                <option value="B.Tech Data Science">Data Science (DS)</option>
                                <option value="CSE">Computer Science (CSE)</option>
                                <option value="ECE">Electronics (ECE)</option>
                                <option value="ME">Mechanical (ME)</option>
                                <option value="CE">Civil (CE)</option>
                            </select>
                        </div>
                        <div class="filter-group-required">
                            <label class="filter-label">
                                <span class="required-star">*</span> Select Semester:
                            </label>
                            <select id="attendanceSemesterFilter" class="filter-select filter-required">
                                <option value="">-- Select Semester --</option>
                                <option value="1">Semester 1</option>
                                <option value="2">Semester 2</option>
                                <option value="3">Semester 3</option>
                                <option value="4">Semester 4</option>
                                <option value="5">Semester 5</option>
                                <option value="6">Semester 6</option>
                                <option value="7">Semester 7</option>
                                <option value="8">Semester 8</option>
                            </select>
                        </div>
                        <button class="btn btn-primary" id="fetchAttendanceBtn" disabled>
                            üìä Fetch Attendance Data
                        </button>
                    </div>

                    <div class="secondary-filters" style="display: none;" id="secondaryFilters">
                        <div class="date-filter-group">
                            <label>From:</label>
                            <input type="date" id="attendanceStartDate" class="filter-select"
                                title="Start date (auto-set to earliest available data)" readonly>
                        </div>
                        <div class="date-filter-group">
                            <label>To:</label>
                            <input type="date" id="attendanceEndDate" class="filter-select"
                                title="End date (auto-set to latest available data)" readonly>
                        </div>
                        <input type="text" id="attendanceStudentSearch" class="search-input"
                            placeholder="Search by name or enrollment...">
                    </div>

                    <div class="data-range-info">
                        <div class="info-card">
                            <span class="info-icon">üìÖ</span>
                            <div class="info-content">
                                <strong>Data Available From:</strong>
                                <span id="dataStartDate">Loading...</span>
                            </div>
                        </div>
                        <div class="info-card">
                            <span class="info-icon">üìÜ</span>
                            <div class="info-content">
                                <strong>Data Available To:</strong>
                                <span id="dataEndDate">Loading...</span>
                            </div>
                        </div>
                        <div class="info-card">
                            <span class="info-icon">üìä</span>
                            <div class="info-content">
                                <strong>Total Records:</strong>
                                <span id="totalRecordsCount">0</span>
                            </div>
                        </div>
                    </div>

                    <div class="attendance-summary-cards">
                        <div class="summary-card">
                            <div class="summary-icon">üë•</div>
                            <div class="summary-info">
                                <h3 id="totalStudentsAttendance">0</h3>
                                <p>Total Students</p>
                            </div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-icon">‚úÖ</div>
                            <div class="summary-info">
                                <h3 id="avgAttendanceRate">0%</h3>
                                <p>Average Attendance</p>
                            </div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-icon">üìÖ</div>
                            <div class="summary-info">
                                <h3 id="totalDaysTracked">0</h3>
                                <p>Days Tracked</p>
                            </div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-icon">‚è±Ô∏è</div>
                            <div class="summary-info">
                                <h3 id="totalHoursAttended">0h</h3>
                                <p>Total Hours</p>
                            </div>
                        </div>
                    </div>

                    <div class="table-container" style="min-height: 200px;">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Enrollment No</th>
                                    <th>Name</th>
                                    <th>Course</th>
                                    <th>Semester</th>
                                    <th>Total Days</th>
                                    <th>Present Days</th>
                                    <th>Attendance %</th>
                                    <th>Total Hours</th>
                                    <th>WiFi Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="attendanceHistoryTableBody">
                                <tr>
                                    <td colspan="10" style="text-align: center; padding: 60px;">
                                        <div style="font-size: 48px; margin-bottom: 20px;">üìä</div>
                                        <h3 style="color: var(--text-primary); margin-bottom: 10px;">Welcome to
                                            Attendance History</h3>
                                        <p style="color: var(--text-secondary); margin-bottom: 20px;">Select a branch
                                            and semester above to view detailed attendance records</p>
                                        <div
                                            style="display: flex; gap: 10px; justify-content: center; align-items: center; color: var(--text-secondary); font-size: 14px;">
                                            <span>1Ô∏è‚É£ Select Branch</span>
                                            <span>‚Üí</span>
                                            <span>2Ô∏è‚É£ Select Semester</span>
                                            <span>‚Üí</span>
                                            <span>3Ô∏è‚É£ Click Fetch</span>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Period Settings Section -->
                <section id="periods-section" class="section">
                    <div class="section-header">
                        <h2 class="section-title">Period Configuration</h2>
                        <div class="action-buttons">
                            <button class="btn btn-secondary" id="resetPeriodsBtn">üîÑ Reset to Default</button>
                            <button class="btn btn-primary" id="addPeriodBtn">‚ûï Add Period</button>
                        </div>
                    </div>

                    <div class="period-info-card">
                        <h3>‚è∞ Manage Class Periods</h3>
                        <p>Configure the number of periods and their timings. Changes will apply to all timetables
                            across all semesters and branches.</p>
                        <div class="period-stats">
                            <div class="stat-item">
                                <span class="stat-label">Total Periods:</span>
                                <span class="stat-value" id="totalPeriodsCount">8</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Class Duration:</span>
                                <span class="stat-value" id="classDuration">09:40 - 16:10</span>
                            </div>
                        </div>
                    </div>

                    <div class="periods-container">
                        <div class="periods-list" id="periodsList">
                            <!-- Periods will be loaded here -->
                        </div>
                    </div>

                    <div class="period-actions">
                        <button class="btn btn-success btn-large" id="savePeriodsBtn">üíæ Save & Apply to All
                            Timetables</button>
                    </div>
                </section>

                <!-- Settings Section -->
                <section id="settings-section" class="section">
                    <h2 class="section-title">Settings</h2>

                    <div class="settings-grid">
                        <div class="settings-card">
                            <h3>Server Configuration</h3>
                            <div class="form-group">
                                <label>Server URL</label>
                                <input type="text" id="serverUrl" value="https://letsbunk-uw7g.onrender.com"
                                    class="form-input" placeholder="https://your-server.onrender.com">
                                <small style="color: #888; display: block; margin-top: 5px;">
                                    Render: https://letsbunk-uw7g.onrender.com<br>
                                    Local: http://192.168.9.31:3000
                                </small>
                            </div>
                            <button class="btn btn-primary" id="saveServerBtn">Save</button>
                        </div>

                        <div class="settings-card">
                            <h3>Database</h3>
                            <div class="form-group">
                                <label>MongoDB URI</label>
                                <input type="text" id="mongoUri" value="mongodb://localhost:27017/attendance_app"
                                    class="form-input">
                            </div>
                            <button class="btn btn-primary" id="saveDbBtn">Save</button>
                        </div>

                        <div class="settings-card">
                            <h3>üìä Attendance Threshold</h3>
                            <div class="form-group">
                                <label>Minimum Attendance % to Mark Present</label>
                                <div style="display: flex; align-items: center; gap: 12px;">
                                    <input type="range" id="attendanceThreshold" min="0" max="100" value="75"
                                        class="threshold-slider" style="flex: 1;">
                                    <input type="number" id="attendanceThresholdValue" min="0" max="100" value="75"
                                        class="form-input" style="width: 80px; text-align: center;">
                                    <span style="font-weight: 600; color: var(--primary);">%</span>
                                </div>
                                <small style="color: var(--text-secondary); display: block; margin-top: 8px;">
                                    Students must attend at least this percentage of a lecture to be marked present.
                                    <br>
                                    <strong>Current:</strong> <span id="currentThresholdDisplay">75%</span>
                                </small>
                            </div>
                            <button class="btn btn-primary" id="saveThresholdBtn">üíæ Save Threshold</button>
                        </div>

                        <div class="settings-card">
                            <h3>Backup & Restore</h3>
                            <button class="btn btn-secondary">üì• Backup Database</button>
                            <button class="btn btn-secondary">üì§ Restore Database</button>
                        </div>
                    </div>
                </section>

                <!-- Coming Soon Section -->
                <section id="coming-soon-section" class="section">
                    <div class="section-header">
                        <h2 class="section-title">üöÄ Coming Soon Features</h2>
                        <span style="color: var(--text-secondary); font-size: 14px;">Exciting new features in
                            development</span>
                    </div>

                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px; margin-top: 30px;">

                        <!-- Feature Card 1: AI Attendance Prediction -->
                        <div class="feature-card">
                            <div class="feature-icon">ü§ñ</div>
                            <h3>AI Attendance Prediction</h3>
                            <p>Machine learning model to predict student attendance patterns and identify at-risk
                                students early.</p>
                            <div class="feature-tags">
                                <span class="tag tag-ai">AI/ML</span>
                                <span class="tag tag-priority">High Priority</span>
                            </div>
                            <div class="feature-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 30%;"></div>
                                </div>
                                <span class="progress-text">30% Complete</span>
                            </div>
                            <div class="feature-eta">ETA: Q1 2026</div>
                        </div>

                        <!-- Feature Card 2: Parent Portal -->
                        <div class="feature-card">
                            <div class="feature-icon">üë®‚Äçüë©‚Äçüëß</div>
                            <h3>Parent Portal</h3>
                            <p>Dedicated portal for parents to view their child's attendance, grades, and receive
                                real-time notifications.</p>
                            <div class="feature-tags">
                                <span class="tag tag-web">Web App</span>
                                <span class="tag tag-priority">High Priority</span>
                            </div>
                            <div class="feature-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 45%;"></div>
                                </div>
                                <span class="progress-text">45% Complete</span>
                            </div>
                            <div class="feature-eta">ETA: Q1 2026</div>
                        </div>

                        <!-- Feature Card 3: Automated Reports -->
                        <div class="feature-card">
                            <div class="feature-icon">üìä</div>
                            <h3>Automated Reports</h3>
                            <p>Generate and email weekly/monthly attendance reports to HODs, principals, and parents
                                automatically.</p>
                            <div class="feature-tags">
                                <span class="tag tag-automation">Automation</span>
                                <span class="tag tag-medium">Medium Priority</span>
                            </div>
                            <div class="feature-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 60%;"></div>
                                </div>
                                <span class="progress-text">60% Complete</span>
                            </div>
                            <div class="feature-eta">ETA: Q2 2026</div>
                        </div>

                        <!-- Feature Card 4: Biometric Integration -->
                        <div class="feature-card">
                            <div class="feature-icon">üëÜ</div>
                            <h3>Fingerprint Integration</h3>
                            <p>Support for fingerprint scanners as an alternative to face verification for attendance
                                marking.</p>
                            <div class="feature-tags">
                                <span class="tag tag-hardware">Hardware</span>
                                <span class="tag tag-medium">Medium Priority</span>
                            </div>
                            <div class="feature-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 15%;"></div>
                                </div>
                                <span class="progress-text">15% Complete</span>
                            </div>
                            <div class="feature-eta">ETA: Q2 2026</div>
                        </div>

                        <!-- Feature Card 5: Mobile App for iOS -->
                        <div class="feature-card">
                            <div class="feature-icon">üì±</div>
                            <h3>iOS App</h3>
                            <p>Native iOS application for iPhone and iPad users with all features from Android app.</p>
                            <div class="feature-tags">
                                <span class="tag tag-mobile">iOS</span>
                                <span class="tag tag-low">Low Priority</span>
                            </div>
                            <div class="feature-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 10%;"></div>
                                </div>
                                <span class="progress-text">10% Complete</span>
                            </div>
                            <div class="feature-eta">ETA: Q3 2026</div>
                        </div>

                        <!-- Feature Card 6: Exam Schedule Management -->
                        <div class="feature-card">
                            <div class="feature-icon">üìù</div>
                            <h3>Exam Schedule Manager</h3>
                            <p>Create and manage exam schedules, seating arrangements, and invigilator assignments.</p>
                            <div class="feature-tags">
                                <span class="tag tag-feature">Feature</span>
                                <span class="tag tag-medium">Medium Priority</span>
                            </div>
                            <div class="feature-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 25%;"></div>
                                </div>
                                <span class="progress-text">25% Complete</span>
                            </div>
                            <div class="feature-eta">ETA: Q2 2026</div>
                        </div>

                        <!-- Feature Card 7: Student Performance Analytics -->
                        <div class="feature-card">
                            <div class="feature-icon">üìà</div>
                            <h3>Performance Analytics</h3>
                            <p>Comprehensive analytics dashboard showing correlation between attendance and academic
                                performance.</p>
                            <div class="feature-tags">
                                <span class="tag tag-analytics">Analytics</span>
                                <span class="tag tag-priority">High Priority</span>
                            </div>
                            <div class="feature-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 40%;"></div>
                                </div>
                                <span class="progress-text">40% Complete</span>
                            </div>
                            <div class="feature-eta">ETA: Q1 2026</div>
                        </div>

                        <!-- Feature Card 8: WhatsApp Integration -->
                        <div class="feature-card">
                            <div class="feature-icon">üí¨</div>
                            <h3>WhatsApp Notifications</h3>
                            <p>Send attendance alerts and updates directly to parents and students via WhatsApp Business
                                API.</p>
                            <div class="feature-tags">
                                <span class="tag tag-integration">Integration</span>
                                <span class="tag tag-priority">High Priority</span>
                            </div>
                            <div class="feature-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 20%;"></div>
                                </div>
                                <span class="progress-text">20% Complete</span>
                            </div>
                            <div class="feature-eta">ETA: Q2 2026</div>
                        </div>

                        <!-- Feature Card 9: Leave Management System -->
                        <div class="feature-card">
                            <div class="feature-icon">üèñÔ∏è</div>
                            <h3>Leave Management</h3>
                            <p>Students can apply for leave online, teachers can approve/reject, and system auto-adjusts
                                attendance.</p>
                            <div class="feature-tags">
                                <span class="tag tag-feature">Feature</span>
                                <span class="tag tag-medium">Medium Priority</span>
                            </div>
                            <div class="feature-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 35%;"></div>
                                </div>
                                <span class="progress-text">35% Complete</span>
                            </div>
                            <div class="feature-eta">ETA: Q2 2026</div>
                        </div>

                        <!-- Feature Card 10: Multi-Language Support -->
                        <div class="feature-card">
                            <div class="feature-icon">üåç</div>
                            <h3>Multi-Language Support</h3>
                            <p>Support for Hindi, Tamil, Telugu, Kannada, and other regional languages in the app.</p>
                            <div class="feature-tags">
                                <span class="tag tag-i18n">i18n</span>
                                <span class="tag tag-low">Low Priority</span>
                            </div>
                            <div class="feature-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 5%;"></div>
                                </div>
                                <span class="progress-text">5% Complete</span>
                            </div>
                            <div class="feature-eta">ETA: Q3 2026</div>
                        </div>

                        <!-- Feature Card 11: QR Code Attendance -->
                        <div class="feature-card">
                            <div class="feature-icon">üì∑</div>
                            <h3>QR Code Attendance</h3>
                            <p>Generate unique QR codes for each class session. Students scan to mark attendance
                                instantly.</p>
                            <div class="feature-tags">
                                <span class="tag tag-feature">Feature</span>
                                <span class="tag tag-medium">Medium Priority</span>
                            </div>
                            <div class="feature-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 50%;"></div>
                                </div>
                                <span class="progress-text">50% Complete</span>
                            </div>
                            <div class="feature-eta">ETA: Q1 2026</div>
                        </div>

                        <!-- Feature Card 12: Smart Classroom Integration -->
                        <div class="feature-card">
                            <div class="feature-icon">üñ•Ô∏è</div>
                            <h3>Smart Classroom Integration</h3>
                            <p>Integrate with smart boards and classroom displays to show real-time attendance and
                                announcements.</p>
                            <div class="feature-tags">
                                <span class="tag tag-hardware">Hardware</span>
                                <span class="tag tag-low">Low Priority</span>
                            </div>
                            <div class="feature-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 0%;"></div>
                                </div>
                                <span class="progress-text">Planning Phase</span>
                            </div>
                            <div class="feature-eta">ETA: Q4 2026</div>
                        </div>

                    </div>

                    <!-- Request Feature Section -->
                    <div
                        style="margin-top: 50px; padding: 30px; background: var(--bg-card); border-radius: 12px; border: 2px dashed var(--border);">
                        <h3 style="color: var(--text-primary); margin-bottom: 15px;">üí° Have a Feature Request?</h3>
                        <p style="color: var(--text-secondary); margin-bottom: 20px;">
                            We'd love to hear your ideas! Submit your feature requests and help us build the best
                            attendance system.
                        </p>
                        <button class="btn btn-primary" onclick="showFeatureRequestDialog()">
                            ‚úâÔ∏è Submit Feature Request
                        </button>
                    </div>
                </section>

            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <div id="modalBody"></div>
        </div>
    </div>

    <!-- Attendance Report Modal -->
    <div id="attendanceModal" class="modal">
        <div class="modal-content modal-large">
            <span class="modal-close" onclick="closeAttendanceModal()">&times;</span>
            <div id="attendanceModalBody">
                <!-- Attendance report will be rendered here -->
            </div>
        </div>
    </div>

    <!-- Detailed Attendance Modal -->
    <div id="detailedAttendanceModal" class="modal">
        <div class="modal-content modal-xlarge">
            <span class="modal-close" onclick="closeDetailedAttendanceModal()">&times;</span>
            <div id="detailedAttendanceModalBody">
                <!-- Detailed attendance will be rendered here -->
            </div>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>

</html>